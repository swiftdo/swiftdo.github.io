(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{781:function(t,e,a){"use strict";a.r(e);var l=a(8),s=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("Flutter 2.0 今早发布，web 开发现已在 stable channel 支持了，非常激动！")]),t._v(" "),a("blockquote",[a("p",[t._v("Flutter 2.0 的更新说明")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://flutter.dev/docs/development/tools/sdk/release-notes/release-notes-2.0.0",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("release-notes-2.0.0"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://medium.com/flutter/whats-new-in-flutter-2-0-fe8e95ecc65",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("What’s New in Flutter 2"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6935520179262586917",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("Flutter 2.0 发布 | 针对 Web，移动端和桌面端构建的下一代 Flutter"),a("OutboundLink")],1)])])]),t._v(" "),a("p",[t._v("因本人的特殊性，对 Flutter 有多个版本的需求。比如：")]),t._v(" "),a("ul",[a("li",[t._v("混合开发，需要在 1.17.5 的 Flutter 版本")]),t._v(" "),a("li",[t._v("旧版 web 开发，需要在 beta 的 channel 下开发")]),t._v(" "),a("li",[t._v("纯 Flutter 项目，跟随 stable channel")])]),t._v(" "),a("p",[t._v("为了能够在各个项目中开发，我需要快速切换 Flutter 环境。所以我采用 "),a("a",{attrs:{href:"https://github.com/leoafarias/fvm",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("fvm"),a("OutboundLink")],1),t._v(" 这个工具。")]),t._v(" "),a("p",[t._v("如果你不知道如何使用 FVM，可以直接参考项目的使用文档，或者参考上一篇："),a("a",{attrs:{href:"https://juejin.cn/post/6919469825547272205",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("《FVM 愉快的切换 Flutter 版本，强烈推荐！》"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("如果你是 FVM 的使用老手，那么下面的内容可以忽略了。")]),t._v(" "),a("h2",{attrs:{id:"实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实战"}},[t._v("#")]),t._v(" 实战")]),t._v(" "),a("p",[t._v("假设在 Flutter 2.0 之前， 有这么个 flt_demo 项目：")]),t._v(" "),a("ul",[a("li",[t._v("使用了 FVM")]),t._v(" "),a("li",[t._v("指定了 Flutter 的版本为 stable")])]),t._v(" "),a("h3",{attrs:{id:"基于最新的-stable-channel-创建-web-工程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基于最新的-stable-channel-创建-web-工程"}},[t._v("#")]),t._v(" 基于最新的 stable channel 创建 web 工程")]),t._v(" "),a("p",[t._v("创建个新项目 web_demo，且需要用 Flutter 2.0 进行 web 开发:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" web_demo\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" web_demo\n$ fvm use stable --force \n$ fvm flutter create "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n$ fvm flutter doctor\n")])])]),a("p",[t._v("最后我们获取到的还是 1.22.6 的 Flutter 版本。")]),t._v(" "),a("p",[t._v("需要更新到最新的 stable 版本：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ fvm flutter upgrade\n$ fvm flutter doctor\n")])])]),a("p",[t._v("👌🏻，web_demo 的 Flutter 环境已经完成，可以愉快的玩耍了。")]),t._v(" "),a("h3",{attrs:{id:"解救基于旧版-stable-channel-开发的-fltdemo-工程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解救基于旧版-stable-channel-开发的-fltdemo-工程"}},[t._v("#")]),t._v(" 解救基于旧版 stable channel 开发的 fltDemo 工程")]),t._v(" "),a("p",[t._v("由于 flt_demo 也是在 stable channel 进行开发，当我们重新运行项目的时候，会报一些错误(某些 api 被废弃了，一些第三方库报错)。")]),t._v(" "),a("p",[t._v("现有的 stable channel 是 Flutter 2.0 版本，但是对 flt_demo 来说，在 Flutter 2.0 是无法运行的。所以我们需要旧版的 stable 环境。")]),t._v(" "),a("p",[t._v("可以通过以下命令获取 flutter 已发布的版本号。")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ fvm releases\n")])])]),a("p",[t._v("旧版的 stable channel 对应的是 1.22.6 的版本。")]),t._v(" "),a("p",[t._v("所以我们需要修改 fltDemo 的 flutter 环境为 1.22.6。")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" flt_demo\n$ fvm "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.22")]),t._v(".6\n$ fvm use "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.22")]),t._v(".6 --force\n$ fvm flutter doctor\n")])])]),a("p",[t._v("👌🏻，完成 flt_demo 的 flutter 环境指定。")]),t._v(" "),a("p",[t._v("如果 flt_demo 是团队项目，提交你的修改。同事拉取代码后，在项目根路径下执行")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ fvm "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),a("p",[t._v("即可。")]),t._v(" "),a("p",[t._v("可以继续愉快的玩耍了。")]),t._v(" "),a("blockquote",[a("p",[t._v("顺带最后，用 flutter 2.0 快速开发了个 web demo 页面，可以体验下")]),t._v(" "),a("ul",[a("li",[t._v("源码："),a("a",{attrs:{href:"https://github.com/swiftdo/web-demo",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("swiftdo/web-demo"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("在线预览: "),a("a",{attrs:{href:"https://static-a693c500-6a23-40d0-8970-ffe97cc09330.bspapp.com/#/",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("https://static-a693c500-6a23-40d0-8970-ffe97cc09330.bspapp.com/#/"),a("OutboundLink")],1),t._v(" （尚未适配手机）\n"),a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b748de1929b04b06a0fdb44c36d12d94~tplv-k3u1fbpfcp-watermark.image",loading:"lazy"}})])])]),t._v(" "),a("p",[t._v("更多干货阅读，请关注官方微信公众号: "),a("strong",[t._v("OldBirds")])])])}),[],!1,null,null,null);e.default=s.exports}}]);