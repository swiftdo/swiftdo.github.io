(window.webpackJsonp=window.webpackJsonp||[]).push([[342],{804:function(t,s,a){"use strict";a.r(s);var r=a(2),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("如何通过MCP协议扩展Gemini CLI的能力，让它能够与各种外部工具和服务交互。")]),t._v(" "),s("h2",{attrs:{id:"什么是mcp服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是mcp服务器"}},[t._v("#")]),t._v(" 什么是MCP服务器？")]),t._v(" "),s("p",[t._v("MCP服务器是实现了"),s("code",[t._v("Model Context Protocol")]),t._v("的程序，它向"),s("code",[t._v("Gemini CLI")]),t._v("这样的客户端提供各种工具。每个MCP服务器通常专注于特定领域的功能，例如：")]),t._v(" "),s("ul",[s("li",[t._v("GitHub MCP服务器 - 提供与GitHub仓库交互的能力")]),t._v(" "),s("li",[t._v("天气MCP服务器 - 提供实时天气查询功能")]),t._v(" "),s("li",[t._v("数据库MCP服务器 - 提供SQL查询和数据库操作功能")]),t._v(" "),s("li",[t._v("Playwright MCP服务器 - 提供网页自动化和爬取功能")]),t._v(" "),s("li",[t._v("Context7 MCP服务器 - 提供开源库文档查询功能")])]),t._v(" "),s("p",[t._v('MCP的特别之处在于，服务器会向模型"自我描述"自己的功能和参数要求，这样AI模型能够"理解"工具的用途，并在适当的时机使用正确的参数调用它们。')]),t._v(" "),s("h2",{attrs:{id:"配置mcp服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置mcp服务器"}},[t._v("#")]),t._v(" 配置MCP服务器")]),t._v(" "),s("p",[t._v("要在Gemini CLI中使用MCP服务器，你需要创建或编辑配置文件：")]),t._v(" "),s("p",[t._v("1.创建配置目录和文件：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" ~/.gemini\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" ~/.gemini/settings.json\n")])])]),s("p",[t._v("2.编辑settings.json文件，添加MCP服务器配置")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mcpServers"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"github"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"command"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-y"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@modelcontextprotocol/server-github"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"env"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"GITHUB_TOKEN"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your_github_token_here"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"weather"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"command"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-y"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mcp-server-weather"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"env"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"WEATHER_API_KEY"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your_weather_api_key_here"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("3.重启Gemini CLI以加载新配置")]),t._v(" "),s("h2",{attrs:{id:"使用mcp工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用mcp工具"}},[t._v("#")]),t._v(" 使用MCP工具")]),t._v(" "),s("p",[t._v("配置完成后，你可以通过以下步骤使用MCP工具：")]),t._v(" "),s("p",[t._v("1.使用/mcp命令查看所有可用的MCP服务器和工具：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /mcp\n")])])]),s("p",[t._v("这会显示所有已连接的MCP服务器及其提供的工具列表。")]),t._v(" "),s("p",[t._v("2.直接在对话中自然使用这些工具：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 获取南京明天的天气预报\n")])])]),s("p",[t._v("Gemini会自动识别这是一个天气查询，调用weather MCP服务器获取信息。")]),t._v(" "),s("p",[t._v("3.或者直接指定使用某个工具：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 使用GitHub工具列出我的仓库中的所有issue\n")])])]),s("h2",{attrs:{id:"用gemini-cli-mcp解决日常开发问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用gemini-cli-mcp解决日常开发问题"}},[t._v("#")]),t._v(" 用Gemini CLI+MCP解决日常开发问题")]),t._v(" "),s("p",[t._v("让我们通过几个实际例子，看看Gemini CLI和MCP如何帮助解决实际的开发问题：")]),t._v(" "),s("h3",{attrs:{id:"分析github仓库并提出改进建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分析github仓库并提出改进建议"}},[t._v("#")]),t._v(" 分析GitHub仓库并提出改进建议")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 使用GitHub工具分析仓库"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username/project"')]),t._v("的代码，找出可能的性能问题和改进点\n")])])]),s("p",[t._v("Gemini会调用GitHub MCP服务器，获取仓库信息，分析代码结构，然后提供详细的改进建议。这个过程包括：")]),t._v(" "),s("ol",[s("li",[t._v("获取仓库结构和文件列表")]),t._v(" "),s("li",[t._v("分析关键文件的代码")]),t._v(" "),s("li",[t._v("识别潜在的性能瓶颈、代码质量问题和安全漏洞")]),t._v(" "),s("li",[t._v("提供具体的改进建议和代码示例")])]),t._v(" "),s("h3",{attrs:{id:"使用天气数据创建示例应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用天气数据创建示例应用"}},[t._v("#")]),t._v(" 使用天气数据创建示例应用")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 创建一个简单的React天气应用，使用weather工具获取实时数据，显示5天预报\n")])])]),s("p",[t._v("Gemini会设计应用结构，生成代码，并集成weather MCP服务器的API调用，一步到位。\nGemini还会生成配套的CSS样式、API路由和后端集成代码，帮你完成整个应用。")]),t._v(" "),s("h3",{attrs:{id:"自动化数据分析和可视化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动化数据分析和可视化"}},[t._v("#")]),t._v(" 自动化数据分析和可视化")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 分析项目中的sales.csv文件，生成销售趋势图表和关键指标摘要\n")])])]),s("p",[t._v("Gemini会使用内置的文件读取工具解析CSV数据，然后生成数据分析脚本。")]),t._v(" "),s("p",[t._v("如果配置了数据库MCP服务器，Gemini还可以直接从数据库读取数据，而不需要中间CSV文件。")]),t._v(" "),s("h3",{attrs:{id:"使用playwright-mcp实现网页自动化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用playwright-mcp实现网页自动化"}},[t._v("#")]),t._v(" 使用Playwright MCP实现网页自动化")]),t._v(" "),s("p",[t._v("如果你配置了Playwright MCP服务器，可以让Gemini帮你自动化网页操作：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 使用Playwright工具访问https://example.com，填写联系表单并提交\n")])])]),s("p",[t._v("Gemini会生成并执行Playwright自动化脚本，完成表单填写和提交过程。")]),t._v(" "),s("p",[t._v("这种自动化能力在测试、数据抓取和重复性网页操作中特别有用。")])])}),[],!1,null,null,null);s.default=e.exports}}]);